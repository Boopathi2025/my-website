<script>
// 1️⃣ Welcome alert
window.addEventListener("load", () => {
    alert("Welcome to the Skills Test!");
});

// 2️⃣ Contact Form Validation
const contactForm = document.querySelector('form[action="#"]'); // your contact form
const contactMessage = document.createElement("p");
contactMessage.style.marginTop = "1rem";
contactForm.appendChild(contactMessage);

contactForm.addEventListener("submit", (e) => {
    e.preventDefault();
    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    const message = document.getElementById("message").value.trim();

    if (!name || !email || !message) {
        contactMessage.textContent = "Please fill out all fields.";
        contactMessage.style.color = "red";
    } else {
        contactMessage.textContent = "Form submitted successfully!";
        contactMessage.style.color = "green";
        contactForm.reset();
    }
});

// 3️⃣ Change Theme Button
const themeBtn = document.createElement("button");
themeBtn.textContent = "Change Theme";
themeBtn.style.display = "block";
themeBtn.style.margin = "2rem auto";
themeBtn.style.padding = "0.5rem 1rem";
themeBtn.style.cursor = "pointer";
document.body.insertBefore(themeBtn, document.querySelector("main"));

themeBtn.addEventListener("click", () => {
    document.body.classList.toggle("dark-theme");
});

// Dark theme CSS injected
const darkThemeStyle = document.createElement("style");
darkThemeStyle.textContent = `
.dark-theme { background: #121212; color: #f0f0f0 ; }
.dark-theme header { background: #1f1f1f; }
.dark-theme .navigator { background: #2a2a2a; }
.dark-theme table { color: #f0f0f0; }
.dark-theme table th { background: #333; }
.dark-theme table tr:nth-child(even) { background: #444; }
.dark-theme table tr:nth-child(odd) { background: #2a2a2a; }
.dark-theme form { background: #333; color: #f0f0f0; }
.dark-theme input, .dark-theme textarea { background: #555; color: #f0f0f0; border: 1px solid #888; }
.dark-theme .btn, .dark-theme button { background: #6200ea; color: #fff; }
`;
document.head.appendChild(darkThemeStyle);

// 4️⃣ Student Counter
const studentTable = document.querySelector("tbody");
const studentCountDisplay = document.createElement("p");
studentCountDisplay.style.fontWeight = "600";
studentCountDisplay.style.margin = "0.5rem 0";
studentCountDisplay.textContent = `Total Students: ${studentTable.rows.length}`;
document.querySelector("section").insertBefore(studentCountDisplay, document.querySelector(".table-wrap"));

// 5️⃣ Add Student Form
const addStudentDiv = document.createElement("div");
addStudentDiv.style.marginTop = "1rem";
addStudentDiv.innerHTML = `
<h3>Add Student</h3>
<form id="addStudentForm">
    <input type="text" id="sName" placeholder="Name" required>
    <input type="number" id="sAge" placeholder="Age" required>
    <input type="text" id="sSkill" placeholder="Skill" required>
    <button type="submit" class="btn">Add Student</button>
</form>
`;
document.querySelector("section").appendChild(addStudentDiv);

const addStudentForm = document.getElementById("addStudentForm");
addStudentForm.addEventListener("submit", (e) => {
    e.preventDefault();
    const sName = document.getElementById("sName").value.trim();
    const sAge = document.getElementById("sAge").value.trim();
    const sSkill = document.getElementById("sSkill").value.trim();

    if (sName && sAge && sSkill) {
        const newRow = document.createElement("tr");
        newRow.innerHTML = `<td>${sName}</td><td>${sAge}</td><td>${sSkill}</td>`;
        studentTable.appendChild(newRow);

       studentCountDisplay.textContent = `Total Students: ${studentTable.rows.length}`;

        addStudentForm.reset();
    } else {
        alert("Please fill all fields to add a student.");
    }
});
</script>
